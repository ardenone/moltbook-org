---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: moltbook

resources:
  - namespace.yml
  - database/cluster.yml
  - database/migration-configmap.yml
  - redis/deployment.yml
  - redis/service.yml
  - api/configmap.yml
  - api/deployment.yml
  - api/service.yml
  - api/ingressroute.yml
  - frontend/configmap.yml
  - frontend/deployment.yml
  - frontend/service.yml
  - frontend/ingressroute.yml

# Images to be replaced
images:
  - name: ghcr.io/moltbook/api
    newName: ghcr.io/moltbook/api
    newTag: latest
  - name: ghcr.io/moltbook/frontend
    newName: ghcr.io/moltbook/frontend
    newTag: latest

# Common labels
commonLabels:
  app.kubernetes.io/name: moltbook
  app.kubernetes.io/component: platform
  app.kubernetes.io/part-of: moltbook
