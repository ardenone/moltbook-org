---
# Namespace Creation Request for Moltbook Platform
#
# BLOCKER: mo-2gd3 - Namespace 'moltbook' does not exist
# ArgoCD is NOT installed in ardenone-cluster.
# The devpod ServiceAccount lacks permission to create namespaces.
#
# CLUSTER ADMIN ACTION REQUIRED - Choose ONE option:
#
# Option 1 (Recommended): Grant devpod namespace creation permissions
#   kubectl apply -f cluster-configuration/ardenone-cluster/argocd/CLUSTER_ADMIN_ACTION.yml
#
# Option 2: Create namespace directly as cluster admin
#   kubectl apply -f k8s/NAMESPACE_REQUEST.yml
#
# After the namespace is created, the main deployment can proceed using:
#   kubectl apply -k k8s/

apiVersion: v1
kind: Namespace
metadata:
  name: moltbook
  labels:
    name: moltbook
    app.kubernetes.io/name: moltbook
    app.kubernetes.io/component: platform
    app.kubernetes.io/part-of: moltbook
    app.kubernetes.io/instance: moltbook-platform
    app.kubernetes.io/managed-by: kubectl
---
# Note: After namespace creation, the following resources need to be deployed:
# 1. SealedSecrets (will be auto-decrypted by sealed-secrets controller)
# 2. PostgreSQL cluster (CNPG)
# 3. Redis deployment
# 4. API backend deployment
# 5. Frontend deployment
# 6. Ingress routes (Traefik)
#
# All resources are defined in k8s/ directory and can be applied with:
#   kubectl apply -k k8s/
