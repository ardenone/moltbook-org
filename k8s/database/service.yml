---
# Note: CloudNativePG automatically creates services for the cluster.
# This file is for documentation purposes and to provide a stable
# service reference that can be used by other applications.
#
# CNPG creates the following services automatically:
# - moltbook-postgres-rw (read-write, points to primary)
# - moltbook-postgres-ro (read-only, points to replicas)
# - moltbook-postgres-r (read-only, load balanced)
#
# Applications should use: moltbook-postgres-rw.moltbook.svc.cluster.local:5432

apiVersion: v1
kind: Service
metadata:
  name: moltbook-postgres
  namespace: moltbook
  labels:
    app: moltbook-postgres
    cnpg.io/cluster: moltbook-postgres
spec:
  type: ClusterIP
  ports:
  - port: 5432
    targetPort: 5432
    name: postgresql
  selector:
    cnpg.io/cluster: moltbook-postgres
    role: primary
